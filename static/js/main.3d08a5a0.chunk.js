(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,function(e,t,n){"use strict";var c=n(6),a=(n(50),n(1));t.a=function(e){return e.href?Object(a.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"," ").concat(e.whiteBg&&"button--white-bg"," ").concat(e.primary&&"button--primary"," ").concat(e.secondary&&"button--secondary"),href:e.href,children:e.children}):e.to?Object(a.jsx)(c.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"," ").concat(e.whiteBg&&"button--white-bg"," ").concat(e.primary&&"button--primary"," ").concat(e.secondary&&"button--secondary"),children:e.children}):Object(a.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"," ").concat(e.whiteBg&&"button--white-bg"," ").concat(e.primary&&"button--primary"," ").concat(e.secondary&&"button--secondary"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(2),a=Object(c.createContext)({isLoggedIn:!1,token:null,userId:null,login:function(){},logout:function(){}})},,function(e,t,n){"use strict";n(60);var c=n(1);t.a=function(e){return Object(c.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(c.jsx)("div",{className:"lds-dual-ring"})})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return j}));var c=n(36),a="REQUIRE",r="MINLENGTH",s="MAXLENGTH",i="EMAIL",o=function(){return{type:a}},l=function(e){return{type:r,val:e}},u=function(){return{type:i}},j=function(e,t){var n,o=!0,l=Object(c.a)(t);try{for(l.s();!(n=l.n()).done;){var u=n.value;u.type===a&&(o=o&&e.trim().length>0),u.type===r&&(o=o&&e.trim().length>=u.val),u.type===s&&(o=o&&e.trim().length<=u.val),"MIN"===u.type&&(o=o&&+e>=u.val),"MAX"===u.type&&(o=o&&+e<=u.val),u.type===i&&(o=o&&/^\S+@\S+\.\S+$/.test(e))}}catch(j){l.e(j)}finally{l.f()}return o}},function(e,t,n){"use strict";var c=n(8),a=(n(49),n(1));t.a=function(e){return Object(c.createPortal)(Object(a.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(10),a=n.n(c),r=n(15),s=n(4),i=n(2),o=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(i.useState)(),l=Object(s.a)(o,2),u=l[0],j=l[1],d=Object(i.useRef)([]),b=Object(i.useCallback)(function(){var e=Object(r.a)(a.a.mark((function e(t){var n,r,s,i,o,l,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,s=u.length>3&&void 0!==u[3]?u[3]:{},c(!0),i=new AbortController,d.current.push(i),e.prev=6,e.next=9,fetch(t,{method:n,headers:s,body:r,signal:i.signal});case 9:if(404!==(o=e.sent).status){e.next=12;break}throw new Error("Not found");case 12:return e.next=14,o.json();case 14:if(l=e.sent,d.current=d.current.filter((function(e){return e!==i})),o.ok){e.next=18;break}throw new Error(l.message);case 18:return c(!1),e.abrupt("return",l);case 22:throw e.prev=22,e.t0=e.catch(6),j(e.t0.message),c(!1),e.t0;case 27:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(t){return e.apply(this,arguments)}}(),[]),h=Object(i.useCallback)((function(){j(null)}),[]);return Object(i.useEffect)((function(){return function(){d.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:u,sendRequest:b,clearError:h}}},function(e,t,n){"use strict";var c=n(29),a=n(9),r=(n(71),n(1));t.a=function(e){return Object(r.jsx)(c.a,{className:"center-text",onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:Object(r.jsx)(a.a,{onClick:e.onClear,secondary:!0,children:"Okay"}),children:Object(r.jsx)("p",{className:"error-modal-text",children:e.error})})}},function(e,t,n){"use strict";n(66);var c=n(1);t.a=function(e){return Object(c.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},,function(e,t,n){"use strict";var c=n(12),a=n(2),r=n(8),s=n(73),i=n(20),o=(n(70),n(1)),l=function(e){var t=Object(o.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(o.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:Object(o.jsx)("h2",{children:e.header})}),Object(o.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(o.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(o.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return Object(r.createPortal)(t,document.getElementById("modal-hook"))};t.a=function(e){return Object(o.jsxs)(a.Fragment,{children:[e.show&&Object(o.jsx)(i.a,{onClick:e.onCancel}),Object(o.jsx)(s.a,{in:e.show,timeout:300,classNames:"modal",mountOnEnter:!0,unmountOnExit:!0,children:Object(o.jsx)(l,Object(c.a)({},e))})]})}},function(e,t,n){"use strict";var c=n(4),a=n(12),r=n(2),s=n(19),i=(n(62),n(1)),o=function(e,t){switch(t.type){case"CHANGE":return Object(a.a)(Object(a.a)({},e),{},{value:t.val,isValid:Object(s.d)(t.val,t.validators)});case"TOUCH":return Object(a.a)(Object(a.a)({},e),{},{isTouched:!0});default:return e}};t.a=function(e){var t=Object(r.useReducer)(o,{value:"",isTouched:!1,isValid:!1}),n=Object(c.a)(t,2),a=n[0],s=n[1],l=e.onSearch,u=a.value;Object(r.useEffect)((function(){l(u)}),[u,l]);return Object(i.jsxs)("div",{className:"search-bar center-flex-row tiny-gap",children:[Object(i.jsx)("label",{htmlFor:"search",className:"search-bar-label",children:"Search"}),Object(i.jsx)("img",{src:"/assets/search-icon.svg",alt:"search icon",className:"search-bar-icon"}),Object(i.jsx)("input",{id:"search",type:"text",className:"search-bar-input",placeholder:!a.isValid&&a.isTouched&&"".concat(e.errorText)||"Search...",onChange:function(t){s({type:"CHANGE",val:t.target.value,validators:e.validators})},onBlur:function(){s({type:"TOUCH"})},value:a.value})]})}},function(e,t,n){"use strict";n(65);var c=n(1);t.a=function(e){return Object(c.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:Object(c.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})})}},,,,,,function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c,a=n(2),r=n.n(a),s=n(8),i=n.n(s),o=(n(37),n(3)),l=n(6),u=n(4),j=n(35),d=(n(44),n(1)),b=function(e){return Object(d.jsx)("header",{className:"main-header",children:e.children})},h=n(73),x=(n(46),function(e){var t=Object(d.jsx)(h.a,{in:e.show,timeout:300,classNames:"slide-in-right",mountOnEnter:!0,unmountOnExit:!0,children:Object(d.jsx)("aside",{className:"side-drawer",onClick:e.onClick,children:e.children})});return Object(s.createPortal)(t,document.getElementById("drawer-hook"))}),O=n(20),m=n(34),f=n(9),p=n(16),v=(n(57),function(){var e=Object(a.useContext)(p.a);return Object(d.jsxs)("ul",{className:"center-flex-row medium-gap nav-links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(m.a,{smooth:!0,to:"/#users",exact:!0,children:"All Users"})}),e.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)(l.c,{to:"/".concat(e.userId,"/snaps"),children:"My Snaps"})}),e.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)(l.c,{to:"/snaps/new",children:"Add Snap"})}),!e.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)(f.a,{to:"/auth",type:"button",size:"medium",secondary:!0,children:"Get Started"})}),e.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)(f.a,{type:"button",size:"medium",secondary:!0,onClick:e.logout,children:"Logout"})})]})}),g=(n(58),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=function(){c(!1)};return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(x,{show:n,onClick:r,children:Object(d.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(d.jsx)(v,{})})}),n&&Object(d.jsx)(O.a,{onClick:r}),Object(d.jsxs)(b,{children:[Object(d.jsxs)("h1",{className:"center-flex-row tiny-gap main-navigation__title",children:[Object(d.jsx)(j.a,{title:"camera icon"}),Object(d.jsx)(l.b,{to:"/",children:"snap"})]}),Object(d.jsx)("nav",{className:"main-navigation__links",children:Object(d.jsx)(v,{})}),Object(d.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){c(!0)},children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]})]})]})}),N=(n(59),function(){return Object(d.jsx)("div",{className:"footer-section center-text",children:"\xa9 2021 Howie Wang. All rights reserved."})}),y=n(18),w=n(10),k=n.n(w),C=n(15),S=n(30),I=n(19),E=(n(63),function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(o.g)(),s=function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.push("/search/".concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(a.useCallback)((function(e){c(e)}),[]);return Object(d.jsxs)("section",{className:"center-text small-gap center-flex-column section-hero",children:[Object(d.jsx)("h1",{className:"hero-heading",children:"Snap"}),Object(d.jsx)("p",{className:"hero-description",children:"A photo sharing platform for people who love architecture."}),Object(d.jsx)("div",{className:"center-flex-column tiny-gap hero-cta",children:Object(d.jsxs)("div",{className:"center-flex-row tiny-gap hero-cta--actions",children:[Object(d.jsx)(f.a,{to:"/random",type:"button",size:"medium",inverse:!0,primary:!0,children:"Random"}),Object(d.jsx)("div",{children:Object(d.jsx)("form",{onSubmit:s,children:Object(d.jsx)(S.a,{validators:[Object(I.c)()],errorText:"Please enter valid search.",onSearch:i})})}),Object(d.jsxs)("p",{className:"hero-cta--text",children:[Object(d.jsx)("span",{children:"Suggested"}),": museum, plaza, palace"]})]})})]})}),_=n(17),T=(n(64),function(){return Object(d.jsxs)("section",{className:"center-text large-gap center-flex-row section-features",children:[Object(d.jsxs)("div",{className:"feature center-flex-column tiny-gap",children:[Object(d.jsx)("div",{className:"feature-icon",children:Object(d.jsx)(_.a,{title:"share icon"})}),Object(d.jsx)("p",{className:"feature-title",children:"Share"}),Object(d.jsx)("p",{className:"feature-text",children:"Upload favorite snaps and share with others."})]}),Object(d.jsxs)("div",{className:"feature center-flex-column tiny-gap",children:[Object(d.jsx)("div",{className:"feature-icon",children:Object(d.jsx)(_.e,{})}),Object(d.jsx)("p",{className:"feature-title",children:"Navigate"}),Object(d.jsx)("p",{className:"feature-text",children:"Pick one snap interests you. See where it is."})]}),Object(d.jsxs)("div",{className:"feature center-flex-column tiny-gap",children:[Object(d.jsx)("div",{className:"feature-icon",children:Object(d.jsx)(_.c,{})}),Object(d.jsx)("p",{className:"feature-title",children:"Architecture"}),Object(d.jsx)("p",{className:"feature-text",children:"Delve into unique architecture. Be inspired."})]}),Object(d.jsxs)("div",{className:"feature center-flex-column tiny-gap",children:[Object(d.jsx)("div",{className:"feature-icon",children:Object(d.jsx)(_.d,{})}),Object(d.jsx)("p",{className:"feature-title",children:"Plan"}),Object(d.jsx)("p",{className:"feature-text",children:"Explore seleted tours. Plan a visit."})]}),Object(d.jsx)("div",{className:"scroll-down",children:Object(d.jsx)(_.b,{})})]})}),z=n(31),A=n(27),L=(n(67),function(e){return Object(d.jsx)(A.a,{className:"user-item",children:Object(d.jsxs)("li",{className:"center-flex-column medium-gap",children:[Object(d.jsx)("div",{className:"user-item__image",children:Object(d.jsx)(z.a,{image:"".concat("https://snap-app-howie.herokuapp.com","/").concat(e.image),alt:e.name})}),Object(d.jsxs)("div",{className:"user-item__info",children:[Object(d.jsx)("p",{className:"user-item__info-name",children:e.name}),Object(d.jsx)("p",{className:"user-item__info-text",children:e.motto})]}),Object(d.jsxs)(f.a,{to:"/".concat(e.id,"/snaps"),secondary:!0,children:[e.snapCount," ",1===e.snapCount?"Snap":"Snaps"]})]})})}),D=(n(68),function(e){return 0===e.items.length?Object(d.jsx)("div",{className:"center-text no-data-found",children:Object(d.jsx)("p",{children:"No Users Found."})}):Object(d.jsxs)("div",{className:"users-section center-text",id:"users",children:[Object(d.jsx)("h2",{children:"HIGHLIGHTS"}),Object(d.jsx)("ul",{className:"users-list",children:e.items.map((function(e){return Object(d.jsx)(L,{id:e.id,name:e.name,motto:e.motto,image:e.image,snapCount:e.snaps.length},e.id)}))})]})}),H=(n(69),function(){return Object(a.useContext)(p.a).isLoggedIn?null:Object(d.jsxs)("div",{className:"CTA-section center-flex-column extra-small-gap",children:[Object(d.jsx)("p",{className:"CTA-section--text",children:"Join us. Start your journey here."}),Object(d.jsx)(f.a,{to:"/auth",type:"button",size:"medium",primary:!0,inverse:!0,children:"Get Started"})]})}),B=n(26),G=n(25),P=function(){var e=Object(G.a)(),t=e.isLoading,n=e.error,c=e.sendRequest,r=e.clearError,s=Object(a.useState)(),i=Object(u.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("".concat("https://snap-app-howie.herokuapp.com/api","/users"));case 3:t=e.sent,l(t.users),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(B.a,{error:n,onClear:r}),t&&Object(d.jsx)("div",{className:"center-flex-row",children:Object(d.jsx)(y.a,{})}),Object(d.jsx)(E,{}),Object(d.jsx)(T,{}),!t&&o&&Object(d.jsx)(D,{items:o}),Object(d.jsx)(H,{})]})},R=r.a.lazy((function(){return n.e(6).then(n.bind(null,89))})),M=r.a.lazy((function(){return n.e(4).then(n.bind(null,90))})),U=r.a.lazy((function(){return n.e(7).then(n.bind(null,91))})),F=r.a.lazy((function(){return n.e(3).then(n.bind(null,92))})),J=r.a.lazy((function(){return n.e(5).then(n.bind(null,93))})),q=r.a.lazy((function(){return n.e(8).then(n.bind(null,94))})),V=function(){var e,t=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(null),d=Object(u.a)(j,2),b=d[0],h=d[1],x=Object(a.useCallback)((function(e,t,n){r(t),h(e);var c=n||new Date((new Date).getTime()+36e5);l(c),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:c.toISOString()}))}),[]),O=Object(a.useCallback)((function(){r(null),h(null),localStorage.removeItem("userData")}),[]);return Object(a.useEffect)((function(){if(n&&o){var e=o.getTime()-(new Date).getTime();c=setTimeout(O,e)}else clearTimeout(c)}),[n,O,o]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&x(e.userId,e.token,new Date(e.expiration))}),[x]),{token:n,login:x,logout:O,userId:b}}(),n=t.token,r=t.login,s=t.logout,i=t.userId;return n&&(e=Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{path:"/",exact:!0,children:Object(d.jsx)(P,{})}),Object(d.jsx)(o.b,{path:"/:userId/snaps",exact:!0,children:Object(d.jsx)(M,{})}),Object(d.jsx)(o.b,{path:"/random",exact:!0,children:Object(d.jsx)(U,{})}),Object(d.jsx)(o.b,{path:"/search/:keyword",exact:!0,children:Object(d.jsx)(F,{})}),Object(d.jsx)(o.b,{path:"/snaps/new",exact:!0,children:Object(d.jsx)(J,{})}),Object(d.jsx)(o.b,{path:"/snaps/:snapId",children:Object(d.jsx)(q,{})}),Object(d.jsx)(o.a,{to:"/"})]})),n||(e=Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{path:"/",exact:!0,children:Object(d.jsx)(P,{})}),Object(d.jsx)(o.b,{path:"/:userId/snaps",exact:!0,children:Object(d.jsx)(M,{})}),Object(d.jsx)(o.b,{path:"/random",exact:!0,children:Object(d.jsx)(U,{})}),Object(d.jsx)(o.b,{path:"/search/:keyword",exact:!0,children:Object(d.jsx)(F,{})}),Object(d.jsx)(o.b,{path:"/auth",children:Object(d.jsx)(R,{})}),Object(d.jsx)(o.a,{to:"/auth"})]})),Object(d.jsx)(p.a.Provider,{value:{isLoggedIn:!!n,token:n,userId:i,login:r,logout:s},children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(g,{}),Object(d.jsx)("main",{children:Object(d.jsx)(a.Suspense,{fallback:Object(d.jsx)("div",{className:"center-text",children:Object(d.jsx)(y.a,{})}),children:e})}),Object(d.jsx)(N,{})]})})};i.a.render(Object(d.jsx)(V,{}),document.getElementById("root"))}],[[72,1,2]]]);
//# sourceMappingURL=main.3d08a5a0.chunk.js.map